(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9566],{7213:(e,s,a)=>{Promise.resolve().then(a.bind(a,234))},1594:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3239:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4807:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4505:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},719:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},739:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},9486:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]])},8684:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7401).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},234:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>S});var t=a(5155),r=a(2115),l=a(6046);function i(e){let{steps:s,currentStep:a}=e;return(0,t.jsx)("div",{className:"w-full py-6",children:(0,t.jsx)("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:s.map((e,r)=>{let l=a===e.number,i=a>e.number,c=r===s.length-1;return(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ".concat(i?"bg-green-600 text-white":l?"bg-blue-600 text-white ring-4 ring-blue-200":"bg-gray-200 text-gray-600"),children:i?"✓":e.number}),(0,t.jsxs)("div",{className:"mt-2 text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(l?"text-blue-600":i?"text-green-600":"text-gray-500"),children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.description})]})]}),!c&&(0,t.jsx)("div",{className:"flex-1 h-1 mx-2 transition-colors ".concat(i?"bg-green-600":"bg-gray-200"),style:{minWidth:"40px"}})]},e.number)})})})}var c=a(8803),n=a.n(c),d=a(9486),o=a(4807),m=a(719),x=a(8684),h=a(4857);let u=(0,a(7401).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var p=a(739),g=a(3239);function j(e){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(d.A,{className:"w-8 h-8 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Datos de tu tienda"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Informaci\xf3n que aparecer\xe1 en tus tickets"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nombre de la tienda ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:e.storeName,onChange:s=>{e.setStoreName(s.target.value),e.ticketHeader1||e.setTicketHeader1(s.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Bodega San Mart\xedn",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RUC"}),(0,t.jsx)("input",{type:"text",value:e.storeRuc,onChange:s=>e.setStoreRuc(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"20123456789"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono"}),(0,t.jsx)("input",{type:"text",value:e.storePhone,onChange:s=>e.setStorePhone(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"987654321"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n"}),(0,t.jsx)("input",{type:"text",value:e.storeAddress,onChange:s=>e.setStoreAddress(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Av. Principal 123, Lima"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Encabezado del ticket"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"L\xednea 1 (m\xe1x. 100 caracteres)"}),(0,t.jsx)("input",{type:"text",value:e.ticketHeader1,onChange:s=>e.setTicketHeader1(s.target.value),maxLength:100,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"Nombre de tu tienda"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"L\xednea 2 (m\xe1x. 100 caracteres)"}),(0,t.jsx)("input",{type:"text",value:e.ticketHeader2,onChange:s=>e.setTicketHeader2(s.target.value),maxLength:100,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"Direcci\xf3n o RUC"})]})]})]})]})}function b(e){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(o.A,{className:"w-8 h-8 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Configuraci\xf3n de caja"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Define c\xf3mo funcionar\xe1 tu sistema de ventas"})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.useShifts,onChange:s=>e.setUseShifts(s.target.checked),className:"mt-1 w-4 h-4 text-blue-600 rounded"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"font-medium text-gray-900",children:"Usar turnos de caja"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Recomendado: Cada cajero abrir\xe1 y cerrar\xe1 turno con conteo de efectivo. Permite mejor control y auditor\xeda."})]})]})}),e.useShifts&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Efectivo inicial sugerido (S/)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:e.initialCash,onChange:s=>e.setInitialCash(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"100.00"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Monto t\xedpico para dar vuelto al abrir turno"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe9todo de pago por defecto"}),(0,t.jsxs)("select",{value:e.defaultPaymentMethod,onChange:s=>e.setDefaultPaymentMethod(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"CASH",children:"Efectivo"}),(0,t.jsx)("option",{value:"YAPE",children:"Yape"}),(0,t.jsx)("option",{value:"PLIN",children:"Plin"}),(0,t.jsx)("option",{value:"CARD",children:"Tarjeta"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Se preseleccionar\xe1 este m\xe9todo en cada venta"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCA1 Tips:"}),(0,t.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:'Si vendes mayormente al contado, usa "Efectivo" como predeterminado'}),(0,t.jsx)("li",{children:"Puedes cambiar el m\xe9todo de pago en cada venta si es necesario"}),(0,t.jsx)("li",{children:"Los turnos ayudan a detectar faltantes o sobrantes de caja"})]})]})]})}function f(e){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(m.A,{className:"w-8 h-8 text-purple-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Importar productos"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Carga tu cat\xe1logo o agrega productos manualmente"})]})]}),!e.importMethod&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>e.setImportMethod("csv"),className:"p-6 border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[(0,t.jsx)(x.A,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Importar CSV"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Carga un archivo con todos tus productos (hasta 500)"})]}),(0,t.jsxs)("button",{onClick:()=>e.setImportMethod("manual"),className:"p-6 border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[(0,t.jsx)(m.A,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Agregar Manual"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Ingresa tus productos uno por uno (para cat\xe1logos peque\xf1os)"})]})]}),"csv"===e.importMethod&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-sm text-yellow-800 mb-2",children:"\uD83D\uDCCB Descarga primero la plantilla para ver el formato correcto"}),(0,t.jsxs)("a",{href:"/api/onboarding/csv-template",download:"plantilla_productos.csv",className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm font-medium",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),"Descargar plantilla CSV"]})]}),!e.csvFile&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,t.jsx)(x.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,t.jsxs)("label",{className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Seleccionar archivo CSV"}),(0,t.jsx)("input",{type:"file",accept:".csv",onChange:e.handleFileSelect,className:"hidden",disabled:e.loading})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"M\xe1ximo 500 productos • Formato UTF-8"})]}),e.csvPreview&&(0,t.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-3 border-b flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:["Preview: ",e.csvPreview.summary.totalRows," productos"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["✅ ",e.csvPreview.summary.validRows," v\xe1lidos • ❌ ",e.csvPreview.summary.errorRows," con errores"]})]}),(0,t.jsx)("button",{onClick:()=>{e.setImportMethod(null)},className:"text-sm text-gray-600 hover:text-gray-800",children:"Cambiar archivo"})]}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-700",children:"Producto"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-700",children:"Precio"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-700",children:"Stock"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-700",children:"Estado"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:e.csvPreview.preview.slice(0,20).map((e,s)=>(0,t.jsxs)("tr",{className:e.errors.length>0?"bg-red-50":"",children:[(0,t.jsx)("td",{className:"px-4 py-2",children:e.nombre}),(0,t.jsxs)("td",{className:"px-4 py-2",children:["S/ ",e.price]}),(0,t.jsxs)("td",{className:"px-4 py-2",children:[e.stock," ",e.unitType]}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.errors.length>0?(0,t.jsx)("span",{className:"text-red-600 text-xs",children:e.errors[0]}):(0,t.jsx)("span",{className:"text-green-600 text-xs",children:"✓ OK"})})]},s))})]})}),e.csvPreview.summary.hasMore&&(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-2 border-t text-center text-sm text-gray-600",children:["... y ",e.csvPreview.summary.totalRows-20," productos m\xe1s"]})]})]}),"manual"===e.importMethod&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[(0,t.jsx)(m.A,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:"Esta opci\xf3n te redirigir\xe1 a Inventario para agregar productos uno por uno."}),(0,t.jsx)("button",{onClick:()=>window.location.href="/inventory?addProduct=true",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Ir a Inventario"})]})]})}function y(e){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(u,{className:"w-8 h-8 text-indigo-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Crear cajero"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Opcional: Puedes crear usuarios adicionales despu\xe9s"})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-blue-800",children:"\uD83D\uDCA1 Si ahora solo vas a usar t\xfa el sistema, puedes omitir este paso y crear cajeros m\xe1s tarde desde Configuraci\xf3n → Usuarios"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del cajero"}),(0,t.jsx)("input",{type:"text",value:e.cashierName,onChange:s=>e.setCashierName(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Mar\xeda Gonz\xe1lez"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de acceso"}),(0,t.jsx)("input",{type:"email",value:e.cashierEmail,onChange:s=>e.setCashierEmail(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"cajero@tienda.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,t.jsx)("input",{type:"password",value:e.cashierPassword,onChange:s=>e.setCashierPassword(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"M\xednimo 6 caracteres"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"El cajero podr\xe1 cambiarla despu\xe9s"})]})]})}function N(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{id:"2cae6250fe660459",children:"@media print{body *{visibility:hidden}#ticket-preview,#ticket-preview *{visibility:visible}#ticket-preview{position:absolute;left:0;top:0;width:80mm;margin:0;padding:0}}"}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex items-center gap-3 mb-6",children:[(0,t.jsx)(p.A,{className:"w-8 h-8 text-orange-600"}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459",children:[(0,t.jsx)("h2",{className:"jsx-2cae6250fe660459 text-xl font-semibold text-gray-900",children:"Preview del ticket"}),(0,t.jsx)("p",{className:"jsx-2cae6250fe660459 text-gray-600 text-sm",children:"As\xed se ver\xe1 el ticket de tus ventas"})]})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459",children:[(0,t.jsx)("h3",{className:"jsx-2cae6250fe660459 font-medium text-gray-900 mb-3",children:"Vista previa"}),(0,t.jsxs)("div",{id:"ticket-preview",className:"jsx-2cae6250fe660459 border rounded-lg p-6 bg-white font-mono text-sm max-w-xs mx-auto",children:[(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 text-center mb-4",children:[(0,t.jsx)("p",{className:"jsx-2cae6250fe660459 font-bold",children:e.ticketHeader1||e.storeName||"MI BODEGA"}),e.ticketHeader2&&(0,t.jsx)("p",{className:"jsx-2cae6250fe660459 text-xs",children:e.ticketHeader2})]}),(0,t.jsx)("div",{className:"jsx-2cae6250fe660459 border-t border-dashed my-3"}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 space-y-1 text-xs",children:[(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"Coca Cola 1.5L"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"S/ 5.00"})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"Pan Frances"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"S/ 0.30"})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"Azucar 1kg"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"S/ 4.50"})]})]}),(0,t.jsx)("div",{className:"jsx-2cae6250fe660459 border-t border-dashed my-3"}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between font-bold",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"TOTAL:"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459",children:"S/ 9.80"})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 text-center mt-4 text-xs",children:[(0,t.jsx)("p",{className:"jsx-2cae6250fe660459",children:"\xa1Gracias por su compra!"}),(0,t.jsx)("p",{className:"jsx-2cae6250fe660459 text-[10px] text-gray-500 mt-2",children:new Date().toLocaleString("es-PE")})]})]})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459",children:[(0,t.jsx)("h3",{className:"jsx-2cae6250fe660459 font-medium text-gray-900 mb-3",children:"Configuraci\xf3n"}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459 text-gray-600",children:"Formato:"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459 font-medium",children:"80mm (t\xe9rmico)"})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459 text-gray-600",children:"Codificaci\xf3n:"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459 font-medium",children:"UTF-8"})]}),(0,t.jsxs)("div",{className:"jsx-2cae6250fe660459 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-2cae6250fe660459 text-gray-600",children:"Fuente:"}),(0,t.jsx)("span",{className:"jsx-2cae6250fe660459 font-medium",children:"Monospace 12pt"})]})]})]}),(0,t.jsxs)("button",{onClick:()=>{window.print()},className:"jsx-2cae6250fe660459 w-full px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium flex items-center justify-center gap-2",children:[(0,t.jsx)(p.A,{className:"w-5 h-5"}),"Imprimir ticket de prueba"]}),(0,t.jsx)("div",{className:"jsx-2cae6250fe660459 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"jsx-2cae6250fe660459 text-sm text-yellow-800",children:"\uD83D\uDCA1 Aseg\xfarate de que tu impresora t\xe9rmica est\xe9 configurada para 80mm de ancho. Puedes cambiar el encabezado despu\xe9s en Configuraci\xf3n."})})]})]})]})]})}function v(e){return(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(g.A,{className:"w-20 h-20 text-green-600 mx-auto mb-6"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"\xa1Todo listo para empezar! \uD83C\uDF89"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Tu tienda est\xe1 configurada y lista para realizar ventas. Puedes empezar a usar el sistema de punto de venta ahora mismo."}),(0,t.jsxs)("button",{onClick:e.onComplete,disabled:e.loading,className:"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium text-lg inline-flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-5 h-5"}),e.loading?"Guardando...":"Ir al Punto de Venta"]}),(0,t.jsxs)("div",{className:"mt-8 pt-8 border-t max-w-md mx-auto",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-4",children:"Pr\xf3ximos pasos recomendados:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 text-left",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-600 mt-0.5",children:"✓"}),(0,t.jsx)("span",{children:"Revisar que todos los productos tengan precio correcto"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-600 mt-0.5",children:"✓"}),(0,t.jsx)("span",{children:"Configurar impresora t\xe9rmica para tickets de 80mm"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-600 mt-0.5",children:"✓"}),(0,t.jsx)("span",{children:"Hacer una venta de prueba antes de abrir al p\xfablico"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-600 mt-0.5",children:"✓"}),(0,t.jsx)("span",{children:"Explorar reportes y configuraci\xf3n de promociones"})]})]})]})]})}var w=a(1594),k=a(4505);let C=[{number:1,title:"Datos de tienda",description:"Informaci\xf3n b\xe1sica"},{number:2,title:"Configuraci\xf3n",description:"Caja y pagos"},{number:3,title:"Productos",description:"Importar cat\xe1logo"},{number:4,title:"Usuarios",description:"Crear cajero"},{number:5,title:"Ticket",description:"Preview impresi\xf3n"},{number:6,title:"Listo",description:"\xa1A vender!"}];function S(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)(1),[c,n]=(0,r.useState)(!1),[d,o]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[h,u]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[S,A]=(0,r.useState)(""),[P,E]=(0,r.useState)(""),[M,T]=(0,r.useState)(""),[D,H]=(0,r.useState)(!0),[I,O]=(0,r.useState)("100.00"),[L,R]=(0,r.useState)("CASH"),[U,z]=(0,r.useState)(null),[F,q]=(0,r.useState)(null),[V,J]=(0,r.useState)(null),[_,G]=(0,r.useState)(!1),[B,Y]=(0,r.useState)(""),[K,W]=(0,r.useState)(""),[Z,Q]=(0,r.useState)("");(0,r.useEffect)(()=>{X()},[]);let X=async()=>{try{let s=await fetch("/api/settings/onboarding"),t=await s.json();t.completedAt?e.push("/pos"):t.step>0&&a(t.step)}catch(e){console.error("Error loading onboarding state:",e)}},$=async e=>{try{await fetch("/api/settings/onboarding",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({step:e})})}catch(e){console.error("Error updating step:",e)}},ee=async()=>{o(""),n(!0);try{if(1===s){if(!m||m.length<3){o("El nombre de la tienda debe tener al menos 3 caracteres"),n(!1);return}let e=await fetch("/api/onboarding/store-info",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,ruc:h,address:p,phone:S,ticketHeaderLine1:P,ticketHeaderLine2:M})});if(!e.ok){let s=await e.json();throw Error(s.error||"Error al guardar informaci\xf3n")}}if(2===s&&await fetch("/api/settings/onboarding",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({defaultPaymentMethod:L})}),3===s&&"csv"===U&&V&&!_&&await er(),4===s&&B&&K&&Z){let e=await fetch("/api/onboarding/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:B,email:K,password:Z,role:"CASHIER"})});if(!e.ok){let s=await e.json();throw Error(s.error||"Error al crear cajero")}}let e=s+1;a(e),await $(e)}catch(e){o(e.message||"Error al procesar el paso")}finally{n(!1)}},es=async()=>{try{await fetch("/api/settings/onboarding",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({dismissed:!0})}),e.push("/pos")}catch(e){console.error("Error dismissing onboarding:",e)}},ea=async()=>{try{n(!0),await fetch("/api/settings/onboarding",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!0})}),e.push("/pos")}catch(e){console.error("Error completing onboarding:",e)}finally{n(!1)}},et=async e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){q(a),n(!0),o("");try{let e=new FormData;e.append("file",a);let s=await fetch("/api/onboarding/import-csv",{method:"POST",body:e});if(!s.ok){let e=await s.json();throw Error(e.error||"Error al procesar CSV")}let t=await s.json();J(t)}catch(e){o(e.message||"Error al procesar archivo"),q(null)}finally{n(!1)}}},er=async()=>{if(V){G(!0),o("");try{let e=V.preview.filter(e=>0===e.errors.length),s=await fetch("/api/onboarding/import-csv/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:e})});if(!s.ok){let e=await s.json();throw Error(e.error||"Error al importar productos")}let a=await s.json();alert("✅ ".concat(a.message))}catch(e){o(e.message||"Error al importar productos")}finally{G(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraci\xf3n Inicial"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Completa estos pasos para empezar a vender en menos de 30 minutos"})]})}),(0,t.jsx)("div",{className:"bg-white border-b",children:(0,t.jsx)(i,{steps:C,currentStep:s})}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mt-1",children:d})]})]}),1===s&&(0,t.jsx)(j,{storeName:m,setStoreName:x,storeRuc:h,setStoreRuc:u,storeAddress:p,setStoreAddress:g,storePhone:S,setStorePhone:A,ticketHeader1:P,setTicketHeader1:E,ticketHeader2:M,setTicketHeader2:T}),2===s&&(0,t.jsx)(b,{useShifts:D,setUseShifts:H,initialCash:I,setInitialCash:O,defaultPaymentMethod:L,setDefaultPaymentMethod:R}),3===s&&(0,t.jsx)(f,{importMethod:U,setImportMethod:z,csvFile:F,handleFileSelect:et,csvPreview:V,loading:c,importing:_}),4===s&&(0,t.jsx)(y,{cashierName:B,setCashierName:Y,cashierEmail:K,setCashierEmail:W,cashierPassword:Z,setCashierPassword:Q}),5===s&&(0,t.jsx)(N,{storeName:m,ticketHeader1:P,ticketHeader2:M}),6===s&&(0,t.jsx)(v,{onComplete:ea,loading:c}),s<6&&(0,t.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t",children:[(0,t.jsx)("button",{onClick:es,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Lo har\xe9 luego"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[s>1&&(0,t.jsx)("button",{onClick:()=>{s>1&&a(s-1)},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",disabled:c,children:"Anterior"}),(0,t.jsxs)("button",{onClick:ee,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center gap-2",disabled:c,children:[c&&(0,t.jsx)(k.A,{className:"w-4 h-4 animate-spin"}),3===s&&V?"Importar y Continuar":"Siguiente"]})]})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9964,8441,1517,7358],()=>s(7213)),_N_E=e.O()}]);