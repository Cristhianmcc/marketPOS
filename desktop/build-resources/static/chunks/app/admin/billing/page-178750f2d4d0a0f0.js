(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1086],{6404:(e,s,r)=>{Promise.resolve().then(r.bind(r,2594))},7401:(e,s,r)=>{"use strict";r.d(s,{A:()=>x});var t=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),n=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},i=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()},d=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:c="",children:x,iconNode:p,...u}=e;return(0,t.createElement)("svg",{ref:s,...o,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:i("lucide",c),...!x&&!d(u)&&{"aria-hidden":"true"},...u},[...p.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(x)?x:[x]])}),x=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:d,...o}=r;return(0,t.createElement)(c,{ref:l,iconNode:s,className:i("lucide-".concat(a(n(e))),"lucide-".concat(e),d),...o})});return r.displayName=n(e),r}},7364:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2423:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1594:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3239:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6336:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6233:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},6878:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},767:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6046:(e,s,r)=>{"use strict";var t=r(6658);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},2594:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var t=r(5155),a=r(2115),l=r(6046),n=r(227),i=r(7364),d=r(3239),o=r(6878),c=r(2423);let x=(0,r(7401).A)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var p=r(6233),u=r(6336),m=r(1594),h=r(767);function g(){let e=(0,l.useRouter)(),[s,r]=(0,a.useState)([]),[g,b]=(0,a.useState)(!0),[y,f]=(0,a.useState)(null),[j,v]=(0,a.useState)(null),[N,w]=(0,a.useState)(null),[k,C]=(0,a.useState)(null),[E,S]=(0,a.useState)(""),[A,P]=(0,a.useState)("YAPE"),[D,T]=(0,a.useState)(""),[R,O]=(0,a.useState)("STARTER"),[M,z]=(0,a.useState)("30"),[L,I]=(0,a.useState)("1"),[U,F]=(0,a.useState)("days"),H=()=>{let e=parseFloat(L)||1;return"hours"===U?(e/24).toFixed(4):e.toFixed(4)};(0,a.useEffect)(()=>{J()},[]),(0,a.useEffect)(()=>{if(N){let e=setTimeout(()=>w(null),4e3);return()=>clearTimeout(e)}},[N]);let V=(e,s)=>{w({message:e,type:s})},_=e=>{v("confirm"),C(e)},B=async()=>{(null==k?void 0:k.onConfirm)&&await k.onConfirm()},J=async()=>{try{let e=await fetch("/api/admin/billing/stores"),s=await e.json();r(s)}catch(e){console.error("Error loading stores:",e)}finally{b(!1)}},q=e=>({TRIAL:"bg-blue-100 text-blue-800",ACTIVE:"bg-green-100 text-green-800",PAST_DUE:"bg-yellow-100 text-yellow-800",SUSPENDED:"bg-red-100 text-red-800",CANCELLED:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",Y=async e=>{f(s.find(s=>s.id===e)||null),v("payment")},G=async()=>{if(y&&E)try{let e=await fetch("/api/admin/billing/stores/".concat(y.id,"/payments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseFloat(E),method:A,reference:D||void 0})});if(e.ok)V("✅ Pago registrado y suscripci\xf3n reactivada","success"),Q(),J();else{let s=await e.json();V("Error: ".concat(s.error),"error")}}catch(e){V("Error al registrar pago","error")}},K=async e=>{f(s.find(s=>s.id===e)||null),v("extend")},W=async()=>{if(y&&M)try{let e=await fetch("/api/admin/billing/stores/".concat(y.id,"/subscription"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({extendDays:parseInt(M)})});if(e.ok)V("✅ Suscripci\xf3n extendida","success"),Q(),J();else{let s=await e.json();V("Error: ".concat(s.error),"error")}}catch(e){V("Error al extender suscripci\xf3n","error")}},Z=async e=>{var r;let t=s.find(s=>s.id===e);f(t||null),O((null==t?void 0:null===(r=t.subscription)||void 0===r?void 0:r.planCode)||"STARTER"),v("plan")},$=async()=>{if(!y||!R)return;let e="DEMO"===R?H():30;try{let s=await fetch("/api/admin/billing/stores/".concat(y.id,"/subscription"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({planCode:R,extendDays:e})});if(s.ok){let e="DEMO"===R?" por ".concat(L," ").concat("hours"===U?"1"===L?"hora":"horas":"1"===L?"d\xeda":"d\xedas"):"";V("✅ Plan ".concat(R," asignado").concat(e),"success"),Q(),J()}else{let e=await s.json();V("Error: ".concat(e.error),"error")}}catch(e){V("Error al cambiar plan","error")}},Q=()=>{v(null),f(null),C(null),S(""),P("YAPE"),T(""),z("30"),I("1"),F("days")},X=async e=>{console.log("\uD83D\uDD34 handleSuspend llamado para:",e),_({title:"⚠️ Confirmar Suspensi\xf3n",message:"\xbfEst\xe1s seguro de suspender esta suscripci\xf3n? La tienda no podr\xe1 operar hasta que se reactive.",confirmText:"Suspender",type:"danger",onConfirm:async()=>{console.log("\uD83D\uDD34 Ejecutando suspensi\xf3n para:",e);try{let s=await fetch("/api/admin/billing/stores/".concat(e,"/subscription"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({setStatus:"SUSPENDED"})});console.log("\uD83D\uDD34 Respuesta suspensi\xf3n:",s.status),s.ok?(V("\uD83D\uDEAB Suscripci\xf3n suspendida","success"),J()):V("Error al suspender","error")}catch(e){console.error("\uD83D\uDD34 Error suspender:",e),V("Error al suspender","error")}Q()}})},ee=async e=>{var r;let t=s.find(s=>s.id===e),a=(null==t?void 0:null===(r=t.subscription)||void 0===r?void 0:r.planCode)||"plan actual";_({title:"✅ Confirmar Reactivaci\xf3n",message:"\xbfReactivar la suscripci\xf3n ".concat(a," por 30 d\xedas m\xe1s?"),confirmText:"Reactivar",type:"success",onConfirm:async()=>{try{(await fetch("/api/admin/billing/stores/".concat(e,"/subscription"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({setStatus:"ACTIVE",extendDays:30})})).ok?(V("✅ Suscripci\xf3n reactivada por 30 d\xedas","success"),J()):V("Error al reactivar","error")}catch(e){console.error("Error al reactivar:",e),V("Error al reactivar","error")}Q()}})};return g?(0,t.jsx)("div",{className:"p-8",children:"Cargando..."}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/"),className:"flex items-center gap-2 text-emerald-600 hover:text-emerald-700 mb-4 font-medium",children:[(0,t.jsx)(i.A,{className:"w-5 h-5"}),"Volver al Dashboard"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesti\xf3n de Licencias y Billing"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Panel de administraci\xf3n de suscripciones SaaS"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Tiendas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,t.jsx)(d.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Activas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>{var s;return(null===(s=e.subscription)||void 0===s?void 0:s.effectiveStatus)==="ACTIVE"}).length})]}),(0,t.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,t.jsx)(o.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Trial"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(e=>{var s;return(null===(s=e.subscription)||void 0===s?void 0:s.effectiveStatus)==="TRIAL"}).length})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,t.jsx)(c.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Suspendidas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:s.filter(e=>{var s;return(null===(s=e.subscription)||void 0===s?void 0:s.effectiveStatus)==="SUSPENDED"}).length})]}),(0,t.jsx)("div",{className:"p-3 bg-red-50 rounded-lg",children:(0,t.jsx)(x,{className:"w-6 h-6 text-red-600"})})]})})]}),(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tienda"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vencimiento"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D\xedas"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>{var s,r;return(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.id})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.subscription?(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:(null===(s=n.Ko[e.subscription.planCode])||void 0===s?void 0:s.name)||e.subscription.planCode}),(0,t.jsxs)("div",{className:"text-gray-500",children:["PEN ",e.subscription.priceAmount]})]}):(0,t.jsx)("span",{className:"text-gray-400",children:"Sin suscripci\xf3n"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.subscription?(0,t.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(q(e.subscription.effectiveStatus)),children:e.subscription.effectiveStatus}):(0,t.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.subscription?new Date(e.subscription.currentPeriodEnd).toLocaleDateString("es-PE"):"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.subscription?(0,t.jsxs)("span",{className:e.subscription.daysUntilExpiration<0?"text-red-600 font-medium":"text-gray-900",children:[e.subscription.daysUntilExpiration," d\xedas"]}):"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>Y(e.id),className:"text-green-600 hover:text-green-700 font-medium",children:"Pago"}),(0,t.jsx)("button",{onClick:()=>Z(e.id),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Plan"}),(0,t.jsx)("button",{onClick:()=>K(e.id),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Extender"}),(null===(r=e.subscription)||void 0===r?void 0:r.effectiveStatus)==="SUSPENDED"?(0,t.jsx)("button",{onClick:()=>ee(e.id),className:"text-green-600 hover:text-green-700 font-medium",children:"Reactivar"}):(0,t.jsx)("button",{onClick:()=>X(e.id),className:"text-red-600 hover:text-red-700 font-medium",children:"Suspender"})]})})]},e.id)})})]})}),"payment"===j&&y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,t.jsx)(p.A,{className:"w-6 h-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Registrar Pago"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:y.name})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto (PEN)"}),(0,t.jsx)("input",{type:"number",value:E,onChange:e=>S(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"49.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe9todo de Pago"}),(0,t.jsxs)("select",{value:A,onChange:e=>P(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"YAPE",children:"Yape"}),(0,t.jsx)("option",{value:"PLIN",children:"Plin"}),(0,t.jsx)("option",{value:"TRANSFER",children:"Transferencia"}),(0,t.jsx)("option",{value:"CARD",children:"Tarjeta"}),(0,t.jsx)("option",{value:"CASH",children:"Efectivo"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referencia / N\xba Operaci\xf3n (opcional)"}),(0,t.jsx)("input",{type:"text",value:D,onChange:e=>T(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"000123456789"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:Q,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),(0,t.jsx)("button",{onClick:G,disabled:!E,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Registrar Pago"})]})]})}),"plan"===j&&y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,t.jsx)(o.A,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Cambiar Plan"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:y.name})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Selecciona el plan:"}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("button",{type:"button",onClick:()=>O("DEMO"),className:"w-full p-4 rounded-xl border-3 transition-all ".concat("DEMO"===R?"border-purple-600 bg-gradient-to-r from-purple-50 to-purple-100 shadow-lg":"border-purple-300 bg-purple-50/30 hover:border-purple-400 hover:bg-purple-50"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"text-4xl",children:"\uD83C\uDF89"}),(0,t.jsx)("div",{className:"flex-1 text-left",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-bold text-purple-900",children:"Plan DEMO / Trial"}),(0,t.jsx)("p",{className:"text-xs text-purple-700",children:"Acceso completo temporal para evaluar el sistema"})]}),(0,t.jsxs)("div",{className:"text-right bg-white px-4 py-2 rounded-lg border-2 border-purple-300",children:[(0,t.jsx)("p",{className:"text-2xl font-black text-purple-600",children:"GRATIS"}),(0,t.jsx)("p",{className:"text-xs text-purple-600 font-bold",children:"Duraci\xf3n flexible"})]})]})})]})})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(n.Ko).filter(e=>{let[s]=e;return"DEMO"!==s}).map(e=>{let[s,r]=e;return(0,t.jsxs)("button",{type:"button",onClick:()=>O(s),className:"p-4 rounded-lg border-2 transition-all ".concat(R===s?"border-blue-600 bg-blue-50 shadow-md scale-105":"border-gray-300 bg-white hover:border-blue-400 hover:shadow"),children:[(0,t.jsxs)("div",{className:"text-center mb-2",children:[(0,t.jsx)("p",{className:"font-bold text-gray-900 text-sm mb-1",children:r.name}),(0,t.jsxs)("div",{className:"bg-blue-100 py-2 px-3 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-2xl font-black text-blue-600",children:["PEN ",r.monthlyPrice]}),(0,t.jsx)("p",{className:"text-xs text-blue-700 font-medium",children:"/mes \xb7 30 d\xedas"})]})]}),(0,t.jsx)("ul",{className:"space-y-1.5 text-xs text-gray-700 text-left mt-3",children:r.features.slice(0,4).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-1.5",children:[(0,t.jsx)("span",{className:"text-green-600 font-bold mt-0.5",children:"✓"}),(0,t.jsx)("span",{className:"leading-tight",children:e})]},s))})]},s)})})]}),"DEMO"===R&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-purple-50 border-2 border-purple-300 rounded-lg",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-purple-900 mb-3",children:"⏱️ Duraci\xf3n del acceso DEMO (con todas las funciones)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{I("1"),F("hours")},className:"px-4 py-3 text-sm rounded-lg font-semibold transition-all ".concat("1"===L&&"hours"===U?"bg-purple-600 text-white shadow-lg scale-105":"bg-white text-purple-700 border-2 border-purple-300 hover:bg-purple-100 hover:scale-102"),children:"⚡ 1 hora"}),(0,t.jsx)("button",{type:"button",onClick:()=>{I("3"),F("hours")},className:"px-4 py-3 text-sm rounded-lg font-semibold transition-all ".concat("3"===L&&"hours"===U?"bg-purple-600 text-white shadow-lg scale-105":"bg-white text-purple-700 border-2 border-purple-300 hover:bg-purple-100 hover:scale-102"),children:"⚡ 3 horas"}),(0,t.jsx)("button",{type:"button",onClick:()=>{I("1"),F("days")},className:"px-4 py-3 text-sm rounded-lg font-semibold transition-all ".concat("1"===L&&"days"===U?"bg-purple-600 text-white shadow-lg scale-105":"bg-white text-purple-700 border-2 border-purple-300 hover:bg-purple-100 hover:scale-102"),children:"\uD83D\uDCC5 1 d\xeda"}),(0,t.jsx)("button",{type:"button",onClick:()=>{I("7"),F("days")},className:"px-4 py-3 text-sm rounded-lg font-semibold transition-all ".concat("7"===L&&"days"===U?"bg-purple-600 text-white shadow-lg scale-105":"bg-white text-purple-700 border-2 border-purple-300 hover:bg-purple-100 hover:scale-102"),children:"\uD83D\uDCC5 7 d\xedas"})]}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-purple-200",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-purple-900 mb-2",children:"O ingresa una duraci\xf3n personalizada:"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",value:L,onChange:e=>I(e.target.value),className:"flex-1 px-3 py-2 border-2 border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center font-bold text-purple-900",placeholder:"Cantidad",min:"1",step:"1"}),(0,t.jsxs)("select",{value:U,onChange:e=>F(e.target.value),className:"px-4 py-2 border-2 border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent font-bold text-purple-900 bg-white",children:[(0,t.jsx)("option",{value:"hours",children:"Horas"}),(0,t.jsx)("option",{value:"days",children:"D\xedas"})]})]}),(0,t.jsx)("p",{className:"text-xs text-purple-600 mt-2",children:'\uD83D\uDCA1 Ejemplo: "2 Horas" para demos r\xe1pidos, "14 D\xedas" para evaluaci\xf3n completa'})]}),(0,t.jsxs)("div",{className:"mt-3 p-3 bg-purple-100 border border-purple-300 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm text-purple-900 font-medium",children:["✨ El cliente tendr\xe1 ",(0,t.jsx)("strong",{className:"text-purple-700",children:"acceso completo"})," por:"]}),(0,t.jsxs)("p",{className:"text-lg font-bold text-purple-700 mt-1",children:[L," ","hours"===U?"1"===L?"hora":"horas":"1"===L?"d\xeda":"d\xedas"]})]})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:(0,t.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,t.jsx)("strong",{children:"\uD83D\uDCA1 Gu\xeda:"}),"DEMO"===R?(0,t.jsx)("span",{children:" DEMO da acceso completo temporal. Usa 1-3h para demos r\xe1pidos, 7 d\xedas para evaluaci\xf3n seria."}):(0,t.jsx)("span",{children:" Los planes pagados se asignan por 30 d\xedas mensuales. El cliente deber\xe1 pagar para renovar."})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:Q,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),(0,t.jsx)("button",{onClick:$,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Actualizar Plan"})]})]})}),"extend"===j&&y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"p-3 bg-indigo-100 rounded-lg",children:(0,t.jsx)(c.A,{className:"w-6 h-6 text-indigo-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Extender Suscripci\xf3n"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:y.name})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D\xedas a extender"}),(0,t.jsx)("input",{type:"number",value:M,onChange:e=>z(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"30",min:"0.001",step:"0.001"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Se extender\xe1 ",M," d\xedas desde la fecha de vencimiento actual"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFAF Accesos r\xe1pidos"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Para demos y pruebas cortas:"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>z((1/24).toFixed(3)),className:"flex-1 px-3 py-2 text-xs bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 border border-purple-200 font-medium",children:"1 hora"}),(0,t.jsx)("button",{onClick:()=>z((3/24).toFixed(3)),className:"flex-1 px-3 py-2 text-xs bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 border border-purple-200 font-medium",children:"3 horas"}),(0,t.jsx)("button",{onClick:()=>z("1"),className:"flex-1 px-3 py-2 text-xs bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 border border-blue-200 font-medium",children:"1 d\xeda"}),(0,t.jsx)("button",{onClick:()=>z("7"),className:"flex-1 px-3 py-2 text-xs bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 border border-blue-200 font-medium",children:"7 d\xedas"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2 mt-3",children:"Para extensiones de planes:"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>z("30"),className:"flex-1 px-3 py-2 text-xs bg-green-50 text-green-700 rounded-lg hover:bg-green-100 border border-green-200 font-medium",children:"30 d\xedas"}),(0,t.jsx)("button",{onClick:()=>z("90"),className:"flex-1 px-3 py-2 text-xs bg-green-50 text-green-700 rounded-lg hover:bg-green-100 border border-green-200 font-medium",children:"90 d\xedas"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:Q,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),(0,t.jsx)("button",{onClick:W,disabled:!M,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Extender"})]})]})}),N&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg ".concat("success"===N.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:["success"===N.type?(0,t.jsx)(u.A,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):(0,t.jsx)(m.A,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),(0,t.jsx)("p",{className:"font-medium ".concat("success"===N.type?"text-green-800":"text-red-800"),children:N.message}),(0,t.jsx)("button",{onClick:()=>w(null),className:"ml-2 ".concat("success"===N.type?"text-green-600 hover:text-green-700":"text-red-600 hover:text-red-700"),children:(0,t.jsx)(h.A,{className:"w-4 h-4"})})]})}),"confirm"===j&&k&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat("danger"===k.type?"bg-red-100":"bg-green-100"),children:"danger"===k.type?(0,t.jsx)(x,{className:"w-6 h-6 text-red-600"}):(0,t.jsx)(u.A,{className:"w-6 h-6 text-green-600"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:k.title})]}),(0,t.jsx)("p",{className:"text-gray-700 mb-6",children:k.message}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:Q,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),(0,t.jsx)("button",{onClick:B,className:"flex-1 px-4 py-2 text-white rounded-lg font-medium ".concat("danger"===k.type?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:k.confirmText})]})]})})]})})}},227:(e,s,r)=>{"use strict";r.d(s,{Ko:()=>t});let t={DEMO:{code:"DEMO",name:"Demo / Trial",description:"Prueba gratuita con acceso completo al sistema",monthlyPrice:0,yearlyPrice:0,features:["\uD83C\uDF89 Acceso completo por 30 d\xedas","✅ Todas las funcionalidades PRO","✅ Promociones y cupones","✅ Ventas al fiado (cr\xe9dito)","✅ Reportes avanzados","\uD83D\uDCDE Soporte por email","⏰ Al terminar, elige tu plan"]},STARTER:{code:"STARTER",name:"Starter (Bodega)",description:"Ideal para bodegas y negocios peque\xf1os",monthlyPrice:49,yearlyPrice:490,features:["1 tienda","Usuarios ilimitados","Inventario completo","Ventas y caja","Turnos y reportes b\xe1sicos","Soporte por email"]},PRO:{code:"PRO",name:"Pro (Tienda + Promos)",description:"Para tiendas que necesitan promociones y cr\xe9dito",monthlyPrice:99,yearlyPrice:990,features:["Todo lo de Starter","Promociones y cupones","Ventas al fiado (cr\xe9dito)","Promociones por categor\xeda","Promociones por volumen (2x1, 3x2)","Descuentos N-\xe9simo item","Soporte prioritario"]},BUSINESS:{code:"BUSINESS",name:"Business (Multi-sucursal)",description:"Para negocios con m\xfaltiples sucursales",monthlyPrice:199,yearlyPrice:1990,features:["Todo lo de Pro","Reportes avanzados","Multi-sucursal (pr\xf3ximamente)","API access","Soporte telef\xf3nico 24/7","Personalizaci\xf3n avanzada"]}}}},e=>{var s=s=>e(e.s=s);e.O(0,[8441,1517,7358],()=>s(6404)),_N_E=e.O()}]);