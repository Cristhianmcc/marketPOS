(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6336],{2572:(e,s,r)=>{Promise.resolve().then(r.bind(r,7637))},3239:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5340:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4505:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3950:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7637:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var a=r(5155),t=r(2115),l=r(4505);let d=(0,r(7401).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var o=r(3950),n=r(3239),c=r(5340),i=r(1556),m=r(9445),x=r(814);function h(){let[e,s]=(0,t.useState)(!1),[r,h]=(0,t.useState)(!1),[g,p]=(0,t.useState)(!1),[b,j]=(0,t.useState)(!1),[u,N]=(0,t.useState)(!1),[f,y]=(0,t.useState)(!0);(0,t.useEffect)(()=>{v()},[]);let v=async()=>{try{let s=await fetch("/api/store");if(s.ok){var e;let r=await s.json();p((null===(e=r.store)||void 0===e?void 0:e.is_demo_store)||!1)}}catch(e){console.error("[Demo Check] Error:",e)}finally{y(!1)}},w=async()=>{if(!u){N(!0);return}s(!0);try{let e=await fetch("/api/admin/demo/enable",{method:"POST"}),s=await e.json();if(!e.ok)throw Error(s.error||"Error al activar Demo Mode");x.oR.success(s.message),p(!0),N(!1),setTimeout(()=>window.location.reload(),1500)}catch(e){console.error("[Demo Enable] Error:",e),x.oR.error(e.message||"Error al activar Demo Mode")}finally{s(!1)}},A=async()=>{if(!b){j(!0);return}h(!0);try{let e=await fetch("/api/admin/demo/reset",{method:"POST"}),s=await e.json();if(!e.ok)throw Error(s.error||"Error al resetear Demo Mode");if(x.oR.success(s.message),p(!1),j(!1),setTimeout(()=>window.location.reload(),1500),s.deletedData){let e=Object.entries(s.deletedData).filter(e=>{let[s,r]=e;return r>0}).map(e=>{let[s,r]=e;return"".concat(s,": ").concat(r)}).join(", ");x.oR.info("Eliminado: ".concat(e),{duration:5e3})}}catch(e){console.error("[Demo Reset] Error:",e),x.oR.error(e.message||"Error al resetear Demo Mode")}finally{h(!1)}};return(0,a.jsx)(m.A,{storeName:"Demo Mode",children:f?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 text-orange-500 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Verificando estado de Demo Mode..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white border-2 border-orange-500 rounded-lg shadow-lg p-8 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(d,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Demo Mode"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Modo demostraci\xf3n para ventas comerciales"})]})]}),g&&(0,a.jsxs)("div",{className:"mt-4 bg-yellow-100 border-2 border-yellow-500 text-yellow-900 px-4 py-3 rounded-lg font-bold text-center flex items-center justify-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),"DEMO MODE ACTIVO"]})]}),(0,a.jsx)("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(o.A,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-red-900 mb-2",children:"ADVERTENCIA DE SEGURIDAD"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-red-800",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-600 font-bold",children:"•"}),(0,a.jsx)("span",{children:"Solo SUPERADMIN puede activar/resetear Demo Mode"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-600 font-bold",children:"•"}),(0,a.jsx)("span",{children:"Demo Mode NO debe usarse en tiendas reales"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-600 font-bold",children:"•"}),(0,a.jsx)("span",{children:"Resetear eliminar\xe1 TODOS los datos de demo (ventas, clientes, turnos, etc.)"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-red-600 font-bold",children:"•"}),(0,a.jsx)("span",{children:"Los productos se resetear\xe1n a stock inicial"})]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8 border border-gray-200",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 text-blue-600"}),"\xbfQu\xe9 incluye Demo Mode?"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Productos"}),(0,a.jsx)("p",{className:"text-sm text-blue-800",children:"15 productos variados con precios reales, stock y quick-sell configurado"})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"Ventas"}),(0,a.jsx)("p",{className:"text-sm text-green-800",children:"3 ventas de ejemplo (CASH, YAPE, FIADO) con diferentes escenarios"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-purple-900 mb-2",children:"Promociones"}),(0,a.jsx)("p",{className:"text-sm text-purple-800",children:"Promo por categor\xeda, promo por volumen y cup\xf3n activo"})]}),(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-orange-900 mb-2",children:"Cliente Fiado"}),(0,a.jsx)("p",{className:"text-sm text-orange-800",children:"1 cliente demo con cuenta pendiente de S/ 15.00"})]}),(0,a.jsxs)("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-teal-900 mb-2",children:"Turnos"}),(0,a.jsx)("p",{className:"text-sm text-teal-800",children:"1 turno cerrado (ayer) y 1 turno abierto (actual)"})]}),(0,a.jsxs)("div",{className:"bg-pink-50 border border-pink-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-pink-900 mb-2",children:"Reportes"}),(0,a.jsx)("p",{className:"text-sm text-pink-800",children:"Datos visibles en todos los reportes para demostraci\xf3n"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(d,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900",children:"Activar Demo Mode"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Cargar datos ficticios"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Crea productos, ventas, clientes, promociones y cupones de ejemplo. Ideal para demostraciones comerciales."}),u?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"bg-green-50 border border-green-300 rounded-lg p-3 mb-2",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-green-900 text-center",children:"\xbfActivar Demo Mode?"}),(0,a.jsx)("p",{className:"text-xs text-green-700 text-center mt-1",children:"Se cargar\xe1n datos ficticios para demostraci\xf3n"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("button",{onClick:()=>N(!1),className:"py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Cancelar"]}),(0,a.jsx)("button",{onClick:w,disabled:e,className:"py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"w-4 h-4 animate-spin"}),"Activando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),"Confirmar"]})})]})]}):(0,a.jsx)("button",{onClick:()=>N(!0),disabled:e||g,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Ya Activo"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{className:"w-5 h-5"}),"Activar Demo"]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 border-2 border-red-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900",children:"Resetear Demo"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Eliminar todos los datos"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Elimina TODOS los datos de demo: ventas, clientes, turnos, promos. Los productos vuelven a stock inicial."}),b?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"bg-red-50 border border-red-300 rounded-lg p-3 mb-2",children:(0,a.jsx)("p",{className:"text-sm font-bold text-red-900 text-center",children:"\xbfConfirmas eliminar TODOS los datos?"})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("button",{onClick:()=>j(!1),className:"py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Cancelar"]}),(0,a.jsx)("button",{onClick:A,disabled:r,className:"py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"w-4 h-4 animate-spin"}),"Reseteando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),"Confirmar"]})})]})]}):(0,a.jsxs)("button",{onClick:()=>j(!0),disabled:!g,className:"w-full py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5"}),"Resetear Demo"]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border-2 border-blue-300 rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-blue-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-6 h-6"}),"Gu\xeda de Uso - Demo Mode"]}),(0,a.jsxs)("ol",{className:"space-y-3 text-sm text-blue-800",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-600",children:"1."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Activar Demo Mode:"}),' Click en "Activar Demo" para cargar datos ficticios']})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-600",children:"2."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Demostrar el sistema:"})," Ve al POS y realiza ventas con los productos demo"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-600",children:"3."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Probar funciones:"})," Aplica promociones, cupones, fiado, etc."]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-600",children:"4."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Ver reportes:"})," Muestra reportes con datos demo"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-600",children:"5."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Resetear:"})," Cuando termines, resetea para limpiar todo"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-600",children:"6."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Repetir:"})," Puedes activar demo nuevamente para otra demostraci\xf3n"]})]})]})]})]})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[814,8173,9121,9445,8441,1517,7358],()=>s(2572)),_N_E=e.O()}]);