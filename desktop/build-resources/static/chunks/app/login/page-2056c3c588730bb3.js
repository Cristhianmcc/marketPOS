(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{7919:(e,t,r)=>{Promise.resolve().then(r.bind(r,7527))},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),d=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:x,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:r,strokeWidth:d?24*Number(l)/Number(s):l,className:i("lucide",c),...!x&&!n(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:n,...o}=r;return(0,a.createElement)(c,{ref:l,iconNode:t,className:i("lucide-".concat(s(d(e))),"lucide-".concat(e),n),...o})});return r.displayName=d(e),r}},9053:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},738:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2598:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4505:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8686:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},719:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},9486:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]])},1466:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},7527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(2115),l=r(6046),d=r(4505),i=r(9486),n=r(1466),o=r(8686),c=r(738),x=r(2598),m=r(9053),h=r(719);function u(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[f,b]=(0,s.useState)(!1),[g,y]=(0,s.useState)(""),[k,v]=(0,s.useState)(!1),[w,j]=(0,s.useState)(!1),N=async r=>{r.preventDefault(),y(""),v(!0);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:u})}),a=await r.json();if(!r.ok){y(a.error||"Error al iniciar sesi\xf3n"),v(!1);return}if(a.needsProvisioning){e.push("/"),e.refresh();return}e.push("/"),e.refresh()}catch(e){console.error("Login error:",e),y("Error de conexi\xf3n"),v(!1)}};return w?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.A,{className:"w-10 h-10 text-primary animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Cargando..."})]})}):(0,a.jsx)("div",{className:"relative flex h-screen w-full flex-col overflow-hidden bg-background-light dark:bg-background-dark",children:(0,a.jsx)("div",{className:"layout-container flex h-full grow flex-col justify-center items-center p-4 md:p-10",children:(0,a.jsxs)("div",{className:"w-full max-w-[1100px] bg-white dark:bg-surface-dark rounded-xl shadow-xl overflow-hidden flex flex-col md:flex-row h-auto md:min-h-[600px] border border-border-subtle dark:border-border-dark",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/2 p-8 md:p-12 lg:p-16 flex flex-col justify-center relative z-10",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 mb-10",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,a.jsx)(i.A,{className:"w-8 h-8"}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-tight text-text-main dark:text-white",children:"Monterrial"})]})}),(0,a.jsx)("h1",{className:"text-text-main dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.02em]",children:"Bienvenido de nuevo"}),(0,a.jsx)("p",{className:"text-text-secondary dark:text-gray-400 text-sm md:text-base font-normal leading-normal",children:"Ingrese sus credenciales para acceder al sistema de ventas."})]}),(0,a.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-text-main dark:text-gray-200 text-sm font-semibold leading-normal",htmlFor:"email",children:"Usuario"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{className:"flex w-full rounded-lg text-text-main dark:text-white border border-border-subtle dark:border-border-dark bg-background-light dark:bg-background-dark h-12 px-4 pl-11 text-base focus:outline-0 focus:ring-2 focus:ring-primary focus:border-primary placeholder:text-text-secondary dark:placeholder:text-gray-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",id:"email",placeholder:"Ingrese su correo electr\xf3nico",type:"email",value:t,onChange:e=>r(e.target.value),required:!0,disabled:k}),(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary dark:text-gray-500 pointer-events-none flex items-center",children:(0,a.jsx)(n.A,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-text-main dark:text-gray-200 text-sm font-semibold leading-normal",htmlFor:"password",children:"Contrase\xf1a"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{className:"flex w-full rounded-lg text-text-main dark:text-white border border-border-subtle dark:border-border-dark bg-background-light dark:bg-background-dark h-12 px-4 pl-11 pr-12 text-base focus:outline-0 focus:ring-2 focus:ring-primary focus:border-primary placeholder:text-text-secondary dark:placeholder:text-gray-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",id:"password",placeholder:"Ingrese su contrase\xf1a",type:f?"text":"password",value:u,onChange:e=>p(e.target.value),required:!0,disabled:k}),(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary dark:text-gray-500 pointer-events-none flex items-center",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary dark:text-gray-500 hover:text-primary transition-colors flex items-center cursor-pointer disabled:opacity-50",type:"button",onClick:()=>b(!f),disabled:k,children:f?(0,a.jsx)(c.A,{className:"w-5 h-5"}):(0,a.jsx)(x.A,{className:"w-5 h-5"})})]})]}),g&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:g})}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)("button",{className:"w-full flex items-center justify-center rounded-lg h-12 px-6 bg-primary hover:bg-primary-hover text-background-dark text-base font-bold leading-normal tracking-[0.015em] transition-all duration-200 shadow-sm hover:shadow-md transform active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",type:"submit",disabled:k,children:k?(0,a.jsx)("span",{className:"truncate",children:"Ingresando..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"truncate",children:"Acceder al Sistema"}),(0,a.jsx)(m.A,{className:"ml-2 w-5 h-5"})]})})})]}),(0,a.jsx)("div",{className:"mt-8 text-center flex flex-col gap-4",children:(0,a.jsx)("div",{className:"text-xs text-text-secondary/60 dark:text-gray-600",children:"Versi\xf3n 2.4.0 \xa9 2024 Monterrial"})})]}),(0,a.jsxs)("div",{className:"hidden md:flex md:w-1/2 bg-cover bg-center relative group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/90 via-primary-dark/80 to-primary/70"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-20",children:[(0,a.jsx)("div",{className:"mb-4 inline-flex items-center justify-center p-3 bg-white/20 backdrop-blur-md rounded-lg border border-white/30 w-fit",children:(0,a.jsx)(h.A,{className:"w-6 h-6 text-white"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold leading-tight mb-3 text-white drop-shadow-sm",children:"Gesti\xf3n eficiente para su negocio"}),(0,a.jsx)("p",{className:"text-gray-100 text-lg font-light leading-relaxed max-w-sm drop-shadow-sm",children:"Controle su inventario, ventas y clientes desde una sola plataforma unificada."}),(0,a.jsx)("div",{className:"absolute top-12 right-12 bg-white/10 backdrop-blur-md border border-white/20 p-4 rounded-xl shadow-2xl transform rotate-6 hover:rotate-0 transition-transform duration-500 hidden lg:block",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-primary",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-200 font-medium",children:"Ventas de Hoy"}),(0,a.jsx)("p",{className:"text-sm font-bold text-white",children:"+24% vs ayer"})]})]})})]})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(7919)),_N_E=e.O()}]);