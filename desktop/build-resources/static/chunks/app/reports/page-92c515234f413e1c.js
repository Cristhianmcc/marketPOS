(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5022],{5757:(e,t,s)=>{Promise.resolve().then(s.bind(s,9914))},6889:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},4857:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},6878:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},9914:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),r=s(2115),l=s(9445),d=s(3666),n=s(4807);let c=(0,s(7401).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var i=s(6878),x=s(5471),o=s(8474),m=s(6889),p=s(4857);function h(){let[e,t]=(0,r.useState)("resumen"),[s,h]=(0,r.useState)(null),[u,g]=(0,r.useState)(()=>{let e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]}),[y,b]=(0,r.useState)(new Date().toISOString().split("T")[0]),[j,N]=(0,r.useState)([]),[f,v]=(0,r.useState)(()=>{let e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]}),[w,S]=(0,r.useState)(new Date().toISOString().split("T")[0]),[k,C]=(0,r.useState)([]),[T,D]=(0,r.useState)(()=>{let e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]}),[A,P]=(0,r.useState)(new Date().toISOString().split("T")[0]),[E,I]=(0,r.useState)([]),[O,V]=(0,r.useState)("amount"),[L,F]=(0,r.useState)(10),[M,R]=(0,r.useState)(()=>{let e=new Date;return e.setDate(e.getDate()-30),e.toISOString().split("T")[0]}),[U,_]=(0,r.useState)(new Date().toISOString().split("T")[0]),[H,Q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"resumen"===e&&q()},[e,u,y]),(0,r.useEffect)(()=>{"diario"===e&&B()},[e,f,w]),(0,r.useEffect)(()=>{"turnos"===e&&G()},[e,T,A]),(0,r.useEffect)(()=>{"productos"===e&&K()},[e,O,L,M,U]);let q=async()=>{Q(!0);try{let e=new URLSearchParams({from:u,to:y}),t=await fetch("/api/reports/summary?".concat(e));if(t.ok){let e=await t.json();h(e)}}catch(e){console.error("Error fetching summary:",e)}finally{Q(!1)}},B=async()=>{Q(!0);try{let e=new URLSearchParams({from:f,to:w}),t=await fetch("/api/reports/daily?".concat(e));if(t.ok){let e=await t.json();N(e.sales)}}catch(e){console.error("Error fetching daily:",e)}finally{Q(!1)}},G=async()=>{Q(!0);try{let e=new URLSearchParams({from:T,to:A}),t=await fetch("/api/reports/shifts?".concat(e));if(t.ok){let e=await t.json();C(e.shifts)}}catch(e){console.error("Error fetching shifts:",e)}finally{Q(!1)}},K=async()=>{Q(!0);try{let e=new URLSearchParams({by:O,limit:L.toString(),from:M,to:U}),t=await fetch("/api/reports/top-products?".concat(e));if(t.ok){let e=await t.json();I(e.products)}}catch(e){console.error("Error fetching top products:",e)}finally{Q(!1)}},z=async e=>{let t=new URLSearchParams;"inventory"!==e&&(t.set("from",u),t.set("to",y));let s="/api/reports/export/".concat(e,"?").concat(t);window.open(s,"_blank")};return(0,a.jsxs)(l.A,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reportes"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"An\xe1lisis y exportaci\xf3n de datos"})]}),(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"resumen",label:"Resumen"},{id:"diario",label:"Ventas por d\xeda"},{id:"turnos",label:"Turnos"},{id:"productos",label:"Top Productos"},{id:"exportar",label:"Exportar"}].map(s=>(0,a.jsx)("button",{onClick:()=>t(s.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(e===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:s.label},s.id))})}),"resumen"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,a.jsx)("input",{type:"date",value:u,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,a.jsx)("input",{type:"date",value:y,onChange:e=>b(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]}),H&&(0,a.jsx)("p",{className:"text-gray-500",children:"Cargando..."}),s&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Total Ventas"}),(0,a.jsx)(n.A,{className:"w-5 h-5 text-green-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(0,d.up)(s.summary.totalSales)})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-700",children:"Promociones"}),(0,a.jsx)(c,{className:"w-5 h-5 text-blue-600"})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-blue-900",children:["-",(0,d.up)(s.summary.totalPromotions)]})]}),(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-orange-700",children:"Descuentos"}),(0,a.jsx)(i.A,{className:"w-5 h-5 text-orange-600"})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-orange-900",children:["-",(0,d.up)(s.summary.totalDiscounts)]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-green-700",children:"Cupones"}),(0,a.jsx)(x.A,{className:"w-5 h-5 text-green-600"})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-900",children:["-",(0,d.up)(s.summary.totalCoupons)]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-purple-700",children:"Promos Categor\xeda"}),(0,a.jsx)(x.A,{className:"w-5 h-5 text-purple-600"})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-900",children:["-",(0,d.up)(s.summary.totalCategoryPromotions||0)]})]}),(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-orange-700",children:"Promos Pack"}),(0,a.jsx)(x.A,{className:"w-5 h-5 text-orange-600"})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-orange-900",children:["-",(0,d.up)(s.summary.totalVolumePromotions||0)]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-yellow-700",children:"Promos N-\xe9simo"}),(0,a.jsx)(x.A,{className:"w-5 h-5 text-yellow-600"})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-yellow-900",children:["-",(0,d.up)(s.summary.totalNthPromotions||0)]})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Tickets"}),(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:s.summary.ticketCount})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Ticket Promedio"}),(0,a.jsx)(i.A,{className:"w-5 h-5 text-purple-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(0,d.up)(s.summary.averageTicket)})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Cuentas por Cobrar (FIADO)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-orange-700",children:"Total Vendido a Cr\xe9dito"}),(0,a.jsx)(o.A,{className:"w-5 h-5 text-orange-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-900",children:(0,d.up)(s.summary.totalFiado)})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-green-700",children:"Cobrado en el Per\xedodo"}),(0,a.jsx)(n.A,{className:"w-5 h-5 text-green-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-900",children:(0,d.up)(s.summary.fiadoCobrado)})]}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-700",children:"Saldo Pendiente Total"}),(0,a.jsx)(m.A,{className:"w-5 h-5 text-red-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-900",children:(0,d.up)(s.summary.saldoPendiente)}),(0,a.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Todas las cuentas abiertas"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"M\xe9todos de Pago"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(s.paymentMethods).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:t}),(0,a.jsx)("p",{className:"text-xl font-bold",children:(0,d.up)(s.total)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[s.count," tickets"]})]},t)})})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top 5 Productos"}),(0,a.jsx)("div",{className:"space-y-3",children:s.topProducts.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-400",children:["#",t+1]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[e.name," ",e.content&&"- ".concat(e.content)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Cantidad: ",Number(e.totalQuantity).toFixed(3)]})]})]}),(0,a.jsx)("p",{className:"font-bold text-gray-900",children:(0,d.up)(e.totalAmount)})]},t))})]})]})]}),"diario"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,a.jsx)("input",{type:"date",value:f,onChange:e=>v(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,a.jsx)("input",{type:"date",value:w,onChange:e=>S(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]}),H&&(0,a.jsx)("p",{className:"text-gray-500",children:"Cargando..."}),!H&&(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tickets"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Efectivo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Otros"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[j.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.date).toLocaleDateString("es-PE")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ticketCount}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,d.up)(e.totalSales)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(0,d.up)(e.cashTotal)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(0,d.up)(e.otherTotal)})]},t)),0===j.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay ventas en este periodo"})})]})]})})]}),"turnos"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,a.jsx)("input",{type:"date",value:T,onChange:e=>D(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,a.jsx)("input",{type:"date",value:A,onChange:e=>P(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]}),H&&(0,a.jsx)("p",{className:"text-gray-500",children:"Cargando..."}),!H&&(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Apertura"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cierre"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cajero"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Caja Inicial"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Efectivo Esperado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Caja Final"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Diferencia"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ventas"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tickets"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[k.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.openedAt).toLocaleString("es-PE")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.closedAt?new Date(e.closedAt).toLocaleString("es-PE"):"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.openedBy}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,d.up)(e.openingCash)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,d.up)(e.expectedCash)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,d.up)(e.closingCash)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)("span",{className:0===e.difference?"text-green-600 font-medium":e.difference>0?"text-blue-600 font-medium":"text-red-600 font-medium",children:(0,d.up)(e.difference)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,d.up)(e.totalSales)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ticketCount})]},t)),0===k.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:9,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay turnos en este periodo"})})]})]})})]}),"productos"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6 flex-wrap",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),(0,a.jsxs)("select",{value:O,onChange:e=>V(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"amount",children:"Monto"}),(0,a.jsx)("option",{value:"quantity",children:"Cantidad"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\xedmite"}),(0,a.jsxs)("select",{value:L,onChange:e=>F(Number(e.target.value)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:5,children:"Top 5"}),(0,a.jsx)("option",{value:10,children:"Top 10"}),(0,a.jsx)("option",{value:20,children:"Top 20"}),(0,a.jsx)("option",{value:50,children:"Top 50"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,a.jsx)("input",{type:"date",value:M,onChange:e=>R(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,a.jsx)("input",{type:"date",value:U,onChange:e=>_(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]}),H&&(0,a.jsx)("p",{className:"text-gray-500",children:"Cargando..."}),!H&&(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"#"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Producto"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cantidad Vendida"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Monto Total"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[E.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-400",children:["#",t+1]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),e.content&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.content})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"UNIT"===e.unitType?"Unidad":"KG"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(e.totalQuantity).toFixed(3)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,d.up)(e.totalAmount)})]},t)),0===E.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay datos en este periodo"})})]})]})})]}),"exportar"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Ventas (CSV)"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Exporta todas las ventas con detalles de ticket, fecha, monto, m\xe9todo de pago y cajero."}),(0,a.jsx)("button",{onClick:()=>z("sales"),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm font-medium",children:"Descargar Ventas"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Items (CSV)"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Exporta todos los items vendidos con producto, cantidad, precio unitario y subtotal."}),(0,a.jsx)("button",{onClick:()=>z("items"),className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Descargar Items"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(m.A,{className:"w-6 h-6 text-purple-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Turnos (CSV)"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Exporta todos los turnos cerrados con caja inicial, final, diferencia y ventas."}),(0,a.jsx)("button",{onClick:()=>z("shifts"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 text-sm font-medium",children:"Descargar Turnos"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(c,{className:"w-6 h-6 text-orange-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Inventario (CSV)"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Exporta el inventario actual con nombre, marca, precio, stock y estado."}),(0,a.jsx)("button",{onClick:()=>z("inventory"),className:"w-full bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 text-sm font-medium",children:"Descargar Inventario"})]})]}),(0,a.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Nota:"})," Los exports de Ventas, Items y Turnos usan el mismo rango de fechas configurado en la pesta\xf1a Resumen (Desde: ",u," - Hasta: ",y,"). El inventario exporta el estado actual."]})})]})]})}},3666:(e,t,s)=>{"use strict";function a(e){if(null==e||isNaN(e))return"S/ 0.00";let t="string"==typeof e?parseFloat(e):e;return"S/ ".concat(t.toFixed(2))}s.d(t,{up:()=>a})}},e=>{var t=t=>e(e.s=t);e.O(0,[8173,9121,9445,8441,1517,7358],()=>t(5757)),_N_E=e.O()}]);