(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9754],{8672:(e,s,a)=>{Promise.resolve().then(a.bind(a,8523))},8523:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(5155),r=a(2115),l=a(8173),i=a.n(l),c=a(227);function n(){let[e,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{fetch("/api/settings/billing").then(e=>e.json()).then(e=>{s(e),l(!1)}).catch(()=>l(!1))},[]),a)return(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Licencia y Facturaci\xf3n"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Cargando..."})]});if(!e||!e.hasSubscription||!e.subscription)return(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Licencia y Facturaci\xf3n"}),(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,t.jsx)("p",{className:"text-yellow-800 font-medium",children:"No tienes una suscripci\xf3n activa."}),(0,t.jsx)("p",{className:"text-yellow-700 mt-2",children:"Contacta a soporte para activar tu licencia."})]})]});let{subscription:n,effectiveStatus:o,daysUntilExpiration:d,graceDaysRemaining:m}=e,x=c.Ko[n.planCode];return(0,t.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Licencia y Facturaci\xf3n"}),("PAST_DUE"===o||void 0!==d&&d<=7)&&"SUSPENDED"!==o&&"CANCELLED"!==o&&(0,t.jsx)("div",{className:"mb-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm text-yellow-700 font-medium",children:"PAST_DUE"===o?"Tu licencia venci\xf3. Tienes ".concat(m||0," d\xedas de gracia restantes."):"Tu licencia vence en ".concat(d," d\xedas.")}),(0,t.jsx)("p",{className:"mt-1 text-sm text-yellow-600",children:"Renueva tu suscripci\xf3n para evitar la interrupci\xf3n del servicio."})]})]})}),("SUSPENDED"===o||"CANCELLED"===o)&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"SUSPENDED"===o?"Tu licencia ha sido suspendida por falta de pago.":"Tu licencia ha sido cancelada."}),(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"Contacta a soporte para reactivar tu cuenta."})]})]})}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:(null==x?void 0:x.name)||n.planCode}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:null==x?void 0:x.description})]}),(e=>{switch(e){case"TRIAL":return(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Prueba"});case"ACTIVE":return(0,t.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Activa"});case"PAST_DUE":return(0,t.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:"Vencida (Gracia)"});case"SUSPENDED":return(0,t.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Suspendida"});case"CANCELLED":return(0,t.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:"Cancelada"});default:return(0,t.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:"Desconocido"})}})(o)]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Precio"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[n.priceCurrency," ",n.priceAmount.toFixed(2)," / ","MONTHLY"===n.billingCycle?"mes":"a\xf1o"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"TRIAL"===o?"Trial termina":"Pr\xf3ximo pago"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"TRIAL"===o&&n.trialEndsAt?new Date(n.trialEndsAt).toLocaleDateString("es-PE"):new Date(n.currentPeriodEnd).toLocaleDateString("es-PE")})]})]}),x&&(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Caracter\xedsticas incluidas:"}),(0,t.jsx)("ul",{className:"space-y-2",children:x.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start text-sm text-gray-600",children:[(0,t.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e]},s))})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>window.open("mailto:soporte@marketpos.com?subject=Renovar%20Licencia","_blank"),className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Contactar para Renovar"}),(0,t.jsx)(i(),{href:"/settings/backups",className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium text-center",children:"Exportar Backup"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center mt-6",children:["\xbfNecesitas ayuda? Escr\xedbenos a"," ",(0,t.jsx)("a",{href:"mailto:soporte@marketpos.com",className:"text-blue-600 hover:text-blue-700",children:"soporte@marketpos.com"})]})]})}},227:(e,s,a)=>{"use strict";a.d(s,{Ko:()=>t});let t={DEMO:{code:"DEMO",name:"Demo / Trial",description:"Prueba gratuita con acceso completo al sistema",monthlyPrice:0,yearlyPrice:0,features:["\uD83C\uDF89 Acceso completo por 30 d\xedas","✅ Todas las funcionalidades PRO","✅ Promociones y cupones","✅ Ventas al fiado (cr\xe9dito)","✅ Reportes avanzados","\uD83D\uDCDE Soporte por email","⏰ Al terminar, elige tu plan"]},STARTER:{code:"STARTER",name:"Starter (Bodega)",description:"Ideal para bodegas y negocios peque\xf1os",monthlyPrice:49,yearlyPrice:490,features:["1 tienda","Usuarios ilimitados","Inventario completo","Ventas y caja","Turnos y reportes b\xe1sicos","Soporte por email"]},PRO:{code:"PRO",name:"Pro (Tienda + Promos)",description:"Para tiendas que necesitan promociones y cr\xe9dito",monthlyPrice:99,yearlyPrice:990,features:["Todo lo de Starter","Promociones y cupones","Ventas al fiado (cr\xe9dito)","Promociones por categor\xeda","Promociones por volumen (2x1, 3x2)","Descuentos N-\xe9simo item","Soporte prioritario"]},BUSINESS:{code:"BUSINESS",name:"Business (Multi-sucursal)",description:"Para negocios con m\xfaltiples sucursales",monthlyPrice:199,yearlyPrice:1990,features:["Todo lo de Pro","Reportes avanzados","Multi-sucursal (pr\xf3ximamente)","API access","Soporte telef\xf3nico 24/7","Personalizaci\xf3n avanzada"]}}}},e=>{var s=s=>e(e.s=s);e.O(0,[8173,8441,1517,7358],()=>s(8672)),_N_E=e.O()}]);