(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4243],{5156:(e,a,t)=>{Promise.resolve().then(t.bind(t,1340))},6046:(e,a,t)=>{"use strict";var r=t(6658);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},1340:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var r=t(5155),s=t(6046),c=t(8173),n=t.n(c),o=t(2115);function i(){let e=(0,s.useSearchParams)(),a=(0,s.useRouter)(),t=e.get("reason")||"UNKNOWN",{title:c,message:o,color:i}=(()=>{switch(t){case"SUBSCRIPTION_SUSPENDED":return{title:"Licencia Suspendida",message:"Tu licencia ha sido suspendida por falta de pago. No puedes acceder al sistema hasta que renueves tu suscripci\xf3n.",color:"red"};case"SUBSCRIPTION_CANCELLED":return{title:"Licencia Cancelada",message:"Tu licencia ha sido cancelada. Contacta a soporte para obtener una nueva licencia.",color:"gray"};case"NO_SUBSCRIPTION":return{title:"Sin Licencia",message:"No tienes una licencia activa para usar MarketPOS. Contacta a soporte para activar tu cuenta.",color:"yellow"};default:return{title:"Acceso Bloqueado",message:"No tienes una licencia v\xe1lida para acceder a esta funci\xf3n.",color:"red"}}})(),l=async()=>{try{let e=await fetch("/api/backups/export",{method:"POST"});if(!e.ok)throw Error("Error al exportar backup");let a=await e.blob(),t=window.URL.createObjectURL(a),r=document.createElement("a");r.href=t,r.download="backup-".concat(Date.now(),".json"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r)}catch(e){alert("Error al exportar backup. Intenta desde Configuraci\xf3n > Backups.")}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-".concat(i,"-100 mb-6"),children:(0,r.jsx)("svg",{className:"h-10 w-10 text-".concat(i,"-600"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:c}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:o})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(n(),{href:"/settings/billing",className:"block w-full bg-blue-600 text-white text-center px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Ver Estado de Licencia"}),(0,r.jsx)("button",{onClick:l,className:"block w-full bg-gray-100 text-gray-700 text-center px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Exportar Backup de Datos"}),(0,r.jsx)("button",{onClick:()=>a.push("/login"),className:"block w-full bg-white text-gray-700 text-center px-6 py-3 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors font-medium",children:"Cerrar Sesi\xf3n"})]}),(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"\xbfNecesitas ayuda?"}),(0,r.jsx)("a",{href:"mailto:soporte@marketpos.com",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"soporte@marketpos.com"})]})]})})}function l(){return(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}),children:(0,r.jsx)(i,{})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8173,8441,1517,7358],()=>a(5156)),_N_E=e.O()}]);